<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª - Switchi Hna</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    h1 { color: #00c6ff; }
    form {
      background: #222;
      padding: 20px;
      border-radius: 12px;
      max-width: 500px;
      margin: auto;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border-radius: 8px;
      border: none;
    }
    button {
      padding: 8px 14px;
      background: linear-gradient(135deg, #0077ff, #00c6ff);
      border: none;
      color: #fff;
      font-size: 0.9rem;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: linear-gradient(135deg, #005fcc, #00a3cc);
    }

    /* âœ… Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
    #productList {
      margin-top: 30px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .product-item {
      background: #222;
      padding: 15px;
      border-radius: 10px;
      margin: 12px 0;
      text-align: left;
      position: relative;
    }
    .product-item img {
      height: 60px;
      width: 60px;
      border-radius: 8px;
      object-fit: cover;
      margin-right: 10px;
      vertical-align: middle;
    }
    .product-actions {
      position: absolute;
      top: 15px;
      right: 15px;
    }
    .product-actions button {
      margin-left: 5px;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¦ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h1>
  <form id="productForm">
    <input type="text" id="name_ar" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ø¹Ø±Ø¨ÙŠØ©)" required>
    <input type="text" id="name_fr" placeholder="Nom du produit (FranÃ§ais)" required>
    <input type="text" id="name_en" placeholder="Product name (English)" required>
    
    <textarea id="desc_ar" placeholder="Ø§Ù„ÙˆØµÙ (Ø¹Ø±Ø¨ÙŠØ©)" required></textarea>
    <textarea id="desc_fr" placeholder="Description (FranÃ§ais)" required></textarea>
    <textarea id="desc_en" placeholder="Description (English)" required></textarea>
    
    <input type="number" id="price" placeholder="Ø§Ù„Ø³Ø¹Ø± (DZD)" required>
    <input type="text" id="img" placeholder="Ø±Ø§Ø¨Ø·/Ø§Ø³Ù… ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (ex: prod5.jpg)" required>
    
    <button type="submit">â• Ø£Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬</button>
  </form>

  <h2 style="margin-top:40px;color:#00c6ff;">ğŸ“ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
  <div id="productList"></div>

  <script>
    const form = document.getElementById("productForm");
    const productList = document.getElementById("productList");

    function loadProducts() {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      productList.innerHTML = "";

      products.forEach((p, index) => {
        const div = document.createElement("div");
        div.className = "product-item";
        div.innerHTML = `
          <img src="${p.img}" alt="img">
          <strong>${p.name.ar}</strong> - ${p.price} DZD
          <div class="product-actions">
            <button onclick="editProduct(${index})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
            <button onclick="deleteProduct(${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
          </div>
          <p style="margin-top:5px;font-size:0.9rem;color:#bbb;">${p.desc.ar}</p>
        `;
        productList.appendChild(div);
      });
    }

    // âœ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
    form.addEventListener("submit", function(e){
      e.preventDefault();

      const product = {
        name: {
          ar: document.getElementById("name_ar").value,
          fr: document.getElementById("name_fr").value,
          en: document.getElementById("name_en").value
        },
        desc: {
          ar: document.getElementById("desc_ar").value,
          fr: document.getElementById("desc_fr").value,
          en: document.getElementById("desc_en").value
        },
        price: parseInt(document.getElementById("price").value),
        img: document.getElementById("img").value
      };

      let products = JSON.parse(localStorage.getItem("products")) || [];
      products.push(product);
      localStorage.setItem("products", JSON.stringify(products));

      alert("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!");
      form.reset();
      loadProducts();
    });

    // âœ… Ø­Ø°Ù Ù…Ù†ØªØ¬
    function deleteProduct(index) {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ")) {
        products.splice(index, 1);
        localStorage.setItem("products", JSON.stringify(products));
        loadProducts();
      }
    }

    // âœ… ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬
    function editProduct(index) {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      const p = products[index];

      // Ù†Ø±Ø¬Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ù„Ù„ÙÙˆØ±Ù…
      document.getElementById("name_ar").value = p.name.ar;
      document.getElementById("name_fr").value = p.name.fr;
      document.getElementById("name_en").value = p.name.en;
      document.getElementById("desc_ar").value = p.desc.ar;
      document.getElementById("desc_fr").value = p.desc.fr;
      document.getElementById("desc_en").value = p.desc.en;
      document.getElementById("price").value = p.price;
      document.getElementById("img").value = p.img;

      // Ù†Ø­Ø°Ù Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ø§Ø´ ÙƒÙŠ Ù†Ø¯ÙŠØ±Ùˆ submit ÙŠØªØ¹Ø§ÙˆØ¯ ÙŠØªØ³Ø¬Ù„
      products.splice(index, 1);
      localStorage.setItem("products", JSON.stringify(products));
      loadProducts();
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£ÙˆÙ„ Ù…Ø±Ø©
    loadProducts();
  </script>
</body>
</html>
